(function(){var t,e;t={host:"http://"+window.location.host+"/assets",initialFloatSpeed:4,mediumFloatSpeed:5,victoryFloatSpeed:6,extremeFloatSpeed:7,mode:"easy",mediumScore:5,hardScore:80,victoryScore:100,probabilitiesScore:25,hotPenalty:5,coffeePenalty:3,score:0,width:800,height:420,window:null,scene:null,assets:null,firstMainMenu:!0,speedUpDuration:7300,speedUpValue:2,mushroomDuration:13600,easyLeafProbability:.81,easyGuaranaProbability:.88,easyMrsCoffeeProbability:.92,easyMrHotProbability:.96,easyMushroomProbability:1.01,mediumLeafProbability:.77,mediumGuaranaProbability:.84,mediumMrsCoffeeProbability:.92,mediumMrHotProbability:.97,mediumMushroomProbability:1.01,victoryLeafProbability:.6,victoryGuaranaProbability:.66,victoryMrsCoffeeProbability:0,victoryMrHotProbability:0,victoryMushroomProbability:1.01,victory:!1,muted:"true"===localStorage.getItem("muted")?!0:!1,sharedOnFB:"true"===localStorage.getItem("sharedOnFB")?!0:!1,volume:.5,timeouts:{slowDown1:null,slowDown2:null,speedAnimation:null},platformSizes:{current:null,easy:[150,150,200,250,250],medium:[100,100,150,150,200],hard:[75,100,100,150,150]},start:function(){return Crafty.init(this.width,this.height,"game"),this.setBindings(),Crafty.e("AudioManager"),Crafty.e("BlackMaskManager"),localStorage.getItem("highScore")||localStorage.setItem("highScore",0),Crafty.trigger("Game:initialized"),this.runScene.mainMenu()},runScene:{mainMenu:function(){return Crafty.assets=[],Crafty.load(t.assets.mainMenuList(),function(){return t.assets.loadMainMenu(),Crafty.scene("MainMenu")})},gameplay:function(){return Crafty.assets=[],Crafty.load(t.assets.gameplayList(),function(){return t.assets.loadGameplay(),Crafty.scene("Gameplay")})},gameOver:function(){return Crafty.scene("GameOver")},instruction:function(){return Crafty.load(t.assets.instructionList(),function(){return t.assets.loadInstruction(),Crafty.scene("Instruction")})},authors:function(){return Crafty.load(t.assets.authorsList(),function(){return t.assets.loadAuthors(),Crafty.scene("Authors")})}},setBindings:function(){return $(document).bind("keyup",function(t){return 80===t.keyCode?Crafty.pause():void 0})},submitStatistic:function(t,e){return $.ajax({url:"/api/statistics?statistic[score]="+t+"&statistic[duration]="+e,type:"POST"})},submitScore:function(t){var e;return"undefined"!=typeof gon&&gon.userLoggedIn?(e=btoa(parseInt(t)),$.ajax({url:"/api/user?user[noturbusiness]="+e,type:"PUT"})):void 0},gameplayStarted:null},window.GameInterface={},e=t.start,window.GameInterface.start=e.bind(t),Crafty.c("Base",{init:function(){return this.requires("2D, DOM, Color, Recyclable"),this},at:function(t,e){return this.attr({x:t,y:e}),this}}),Crafty.c("Collectable",{init:function(){return this.requires("Base, Collision, Floatable"),this.attr({z:301}),this.onHit("RunnerImage",function(){return Crafty.trigger("Collected",{name:this.name}),this.destroy()}),setTimeout(function(t){return function(){return t.destroy()}}(this),8e3)}}),Crafty.c("Floatable",{floatLeft:!0,init:function(){return this.bind("EnterFrame",this.float)},"float":function(){return this.move("w",t.floatSpeed)}}),t.assets={imagesPath:""+t.host+"/images/",soundsPath:""+t.host+"/sounds/",gameplayImages:["psychoVisionBg.jpg","face.png","guarana.png","mushroom.png","leaf.png","manaMeter.png","mrsCoffee.png","mrHot.png","blush.png","sayings.png","cloud.png","discoText.png","glasses.png","controlsHint.png","tworcyT.png","jeszczeRazT.png","menuT.png","gameOverBg.png","gOrekordT.png","gOpunktyT.png"],mainMenuImages:["mainMenuBg.png","mainMenuLeaves.png","instrukcjaT.png","tworcyT.png","startT.png","rekordT.png","runner.png","face.png","digits.png","sound.png","powrotButton.png","glasses.png","glassesBig.png"],instructionImages:["arrowL.png","arrowR.png"],authorsImages:["autCebulaText.png","autBossText.png","autPabloText.png","autMusicText.png"],mainMenuSounds:["mainMenu.mp3"],gameplaySounds:["gameplay.ogg","gameplay.mp3","gameOver.mp3","gameOver.ogg","mushroomBeat.ogg","mushroomBeat.mp3","mushroomCollect.ogg","mushroomCollect.mp3","guaranaBeat.ogg","guaranaBeat.mp3","jumpSound.ogg","jumpSound.mp3","leafSound.ogg","leafSound.mp3","burnSound.ogg","burnSound.mp3","coffeeEndSound.ogg","coffeeEndSound.mp3","coffeeStartSound.ogg","coffeeStartSound.mp3","victoryBeat.ogg","victoryBeat.mp3","guaranaCollect.ogg","guaranaCollect.mp3"],loadGameplay:function(){return Crafty.audio.add({gameplay:[""+this.soundsPath+"gameplay.ogg",""+this.soundsPath+"gameplay.mp3"],gameOver:[""+this.soundsPath+"gameOver.ogg",""+this.soundsPath+"gameOver.mp3"],mushroomBeat:[""+this.soundsPath+"mushroomBeat.ogg",""+this.soundsPath+"mushroomBeat.mp3"],mushroomCollect:[""+this.soundsPath+"mushroomCollect.ogg",""+this.soundsPath+"mushroomCollect.mp3"],guaranaCollect:[""+this.soundsPath+"guaranaCollect.ogg",""+this.soundsPath+"guaranaCollect.mp3"],guaranaBeat:[""+this.soundsPath+"guaranaBeat.ogg",""+this.soundsPath+"guaranaBeat.mp3"],jumpSound:[""+this.soundsPath+"jumpSound.ogg",""+this.soundsPath+"jumpSound.mp3"],leafSound:[""+this.soundsPath+"leafSound.ogg",""+this.soundsPath+"leafSound.mp3"],burnSound:[""+this.soundsPath+"burnSound.ogg",""+this.soundsPath+"burnSound.mp3"],coffeeStartSound:[""+this.soundsPath+"coffeeStartSound.ogg",""+this.soundsPath+"coffeeStartSound.mp3"],coffeeEndSound:[""+this.soundsPath+"coffeeEndSound.ogg",""+this.soundsPath+"coffeeEndSound.mp3"],victoryBeat:[""+this.soundsPath+"victoryBeat.ogg",""+this.soundsPath+"victoryBeat.mp3"],nice:[""+this.soundsPath+"nice.ogg",""+this.soundsPath+"nice.mp3"]}),Crafty.sprite(800,420,""+this.imagesPath+"psychoVisionBg.jpg",{spr_psycho:[0,0]}),Crafty.sprite(75,75,""+this.imagesPath+"runner.png",{spr_runner:[0,0]}),Crafty.sprite(75,75,""+this.imagesPath+"face.png",{spr_face:[0,0]}),Crafty.sprite(75,75,""+this.imagesPath+"blush.png",{spr_blush:[0,0]}),Crafty.sprite(47,56,""+this.imagesPath+"leaf.png",{spr_leaf:[0,0]}),Crafty.sprite(40,49,""+this.imagesPath+"mushroom.png",{spr_mushroom:[0,0]}),Crafty.sprite(34,34,""+this.imagesPath+"guarana.png",{spr_guarana:[0,0]}),Crafty.sprite(75,75,""+this.imagesPath+"manaMeter.png",{spr_mana:[0,0]}),Crafty.sprite(116,132,""+this.imagesPath+"mrsCoffee.png",{spr_mrs_coffee:[0,0]}),Crafty.sprite(108,164,""+this.imagesPath+"mrHot.png",{spr_mr_hot:[0,0]}),Crafty.sprite(159,24,""+this.imagesPath+"sayings.png",{spr_sayings:[0,0]}),Crafty.sprite(323,138,""+this.imagesPath+"cloud.png",{spr_cloud:[0,0]}),Crafty.sprite(386,38,""+this.imagesPath+"discoText.png",{spr_disco_text:[0,0]}),Crafty.sprite(75,75,""+this.imagesPath+"glasses.png",{spr_glasses:[0,0]}),Crafty.sprite(303,54,""+this.imagesPath+"controlsHint.png",{spr_hints:[0,0]}),Crafty.sprite(220,16,""+this.imagesPath+"jeszczeRazT.png",{jeszcze_button:[0,0]}),Crafty.sprite(199,18,""+this.imagesPath+"gOpunktyT.png",{gOpunkty_button:[0,0]}),Crafty.sprite(136,18,""+this.imagesPath+"gOrekordT.png",{gOrekord_button:[0,0]}),Crafty.sprite(180,18,""+this.imagesPath+"menuT.png",{menu_button:[0,0]})},loadMainMenu:function(){return Crafty.audio.add({mainMenu:[""+this.soundsPath+"mainMenu.mp3"]}),Crafty.sprite(214,39,""+this.imagesPath+"startT.png",{start_button:[0,0]}),Crafty.sprite(200,34,""+this.imagesPath+"instrukcjaT.png",{instrukcja_button:[0,0]}),Crafty.sprite(134,34,""+this.imagesPath+"tworcyT.png",{tworcy_button:[0,0]}),Crafty.sprite(132,18,""+this.imagesPath+"rekordT.png",{rekord_button:[0,0]}),Crafty.sprite(36,30,""+this.imagesPath+"sound.png",{sound_button:[0,0]}),Crafty.sprite(320,75,""+this.imagesPath+"mainMenuLeaves.png",{leaves_image:[0,0]}),Crafty.sprite(75,75,""+this.imagesPath+"runner.png",{spr_runner:[0,0]}),Crafty.sprite(75,75,""+this.imagesPath+"glasses.png",{spr_glasses:[0,0]}),Crafty.sprite(98,33,""+this.imagesPath+"glassesBig.png",{spr_big_glasses:[0,0]}),Crafty.sprite(75,75,""+this.imagesPath+"face.png",{spr_face:[0,0]}),Crafty.sprite(12,16,""+this.imagesPath+"digits.png",{spr_digits:[0,0]}),Crafty.sprite(23,28,""+this.imagesPath+"powrotButton.png",{powrot_button:[0,0]})},loadInstruction:function(){return Crafty.sprite(20,20,""+this.imagesPath+"arrowR.png",{arrow_r_button:[0,0]}),Crafty.sprite(20,20,""+this.imagesPath+"arrowL.png",{arrow_l_button:[0,0]})},loadAuthors:function(){return Crafty.sprite(140,22,""+this.imagesPath+"autCebulaText.png",{aut_cebula_text:[0,0]}),Crafty.sprite(98,22,""+this.imagesPath+"autBossText.png",{aut_boss_text:[0,0]}),Crafty.sprite(154,22,""+this.imagesPath+"autPabloText.png",{aut_pablo_text:[0,0]}),Crafty.sprite(161,22,""+this.imagesPath+"autMusicText.png",{aut_music_text:[0,0]})},gameplayList:function(){var t;return t=[],_.each(this.gameplayImages,function(e){return function(r){return t.push(""+e.imagesPath+r)}}(this)),_.each(this.gameplaySounds,function(e){return function(r){return t.push(""+e.soundsPath+r)}}(this)),t},mainMenuList:function(){var t;return t=[],_.each(this.mainMenuImages,function(e){return function(r){return t.push(""+e.imagesPath+r)}}(this)),_.each(this.mainMenuSounds,function(e){return function(r){return t.push(""+e.soundsPath+r)}}(this)),t},instructionList:function(){var t;return t=[],_.each(this.instructionImages,function(e){return function(r){return t.push(""+e.imagesPath+r)}}(this)),t},authorsList:function(){var t;return t=[],_.each(this.authorsImages,function(e){return function(r){return t.push(""+e.imagesPath+r)}}(this)),t}},Crafty.c("AudioManager",{mode:"normal",canPlayJump:!0,startMenuMusic:function(){return Crafty.audio.play("mainMenu",-1,t.volume),!1},setInitialMute:function(){return localStorage.getItem("muted")||localStorage.setItem("muted",!1),t.muted?Crafty.audio.mute():Crafty.audio.unmute()},setJumpEffect:function(){return $(document).bind("keydown",function(t){return function(e){return 38!==e.keyCode&&32!==e.keyCode||!t.canPlayJump||(t.playJumpEffect(),t.canPlayJump=!1),!0}}(this)),$(document).bind("keyup",function(t){return function(){return t.canPlayJump=!0}}(this))},playNiceEffect:function(){return Crafty.audio.play("nice",1,t.volume)},playJumpEffect:function(){return t.runner&&t.runner._multijumpsLeft>0?Crafty.audio.play("jumpSound",1,.5*t.volume):void 0},playLeafEffect:function(){return Crafty.audio.play("leafSound",1,.5*t.volume)},playBurnEffect:function(){return Crafty.audio.stop("burnSound"),Crafty.audio.play("burnSound",1,.5*t.volume)},playCoffeeStartEffect:function(){return Crafty.audio.play("coffeeStartSound",1,t.volume),"mushroom"!==this.mode?(this.mode="coffee",Crafty.audio.stop("guaranaBeat"),Crafty.audio.unpause("gameplay")):void 0},playCoffeeEndEffect:function(){return Crafty.audio.play("coffeeEndSound",1,t.volume)},playMushroomStartEffect:function(){return"mushroom"===this.mode||"victory"===this.mode?Crafty.audio.play("mushroomCollect"):(this.mode="mushroom",Crafty.audio.pause("gameplay"),Crafty.audio.stop("guaranaBeat"),Crafty.audio.play("mushroomBeat",1,t.volume))},playMushroomEndEffect:function(){return this.mode="normal",Crafty.audio.stop("mushroomBeat"),Crafty.audio.unpause("gameplay")},playGuaranaStartEffect:function(){return"mushroom"===this.mode||"victory"===this.mode?Crafty.audio.play("guaranaCollect",1,1.1*t.volume):(this.mode="guarana",Crafty.audio.pause("gameplay"),Crafty.audio.stop("guaranaBeat"),Crafty.audio.play("guaranaBeat",1,1.1*t.volume))},playGuaranaEndEffect:function(){return"mushroom"!==this.mode?(this.mode="normal",Crafty.audio.stop("guaranaBeat"),Crafty.audio.unpause("gameplay")):void 0},init:function(){return this.requires("Persist"),this.setInitialMute(),this.setJumpEffect(),this.bind("Runner:collectedLeaf",this.playLeafEffect),this.bind("Runner:collectedMrHot",this.playBurnEffect),this.bind("Runner:collectedMrsCoffee",this.playCoffeeStartEffect),this.bind("Coffee:speedUpEnded",this.playCoffeeEndEffect),this.bind("Runner:saysNice",this.playNiceEffect),this.mode="normal",this.bind("SceneChange",function(e){return"Gameplay"===e.newScene&&(this.unbind("Runner:collectedMushroom",this.playMushroomStartEffect),this.unbind("Runner:collectedGuarana",this.playGuaranaStartEffect),this.unbind("Guarana:ended",this.playGuaranaEndEffect),this.unbind("Mushroom:ended",this.playMushroomEndEffect),this.bind("Runner:jumpEffect",this.playJumpEffect),this.bind("Runner:collectedGuarana",this.playGuaranaStartEffect),this.bind("Guarana:ended",this.playGuaranaEndEffect),this.bind("Runner:collectedMushroom",this.playMushroomStartEffect),this.bind("Mushroom:ended",this.playMushroomEndEffect),this.mode="normal"),null===e.oldScene&&"MainMenu"===e.newScene?this.startMenuMusic():"MainMenu"===e.oldScene&&"Gameplay"===e.newScene?(Crafty.audio.stop("mainMenu"),Crafty.audio.play("gameplay",-1,t.volume)):"Gameplay"===e.oldScene&&"GameOver"===e.newScene?(this.unbind("Runner:jumpEffect",this.playJumpEffect),Crafty.audio.stop("gameplay"),Crafty.audio.stop("mushroomBeat"),Crafty.audio.stop("guaranaBeat"),Crafty.audio.stop("victoryBeat"),Crafty.audio.play("gameOver",1,.7)):"GameOver"===e.oldScene&&"Gameplay"===e.newScene?Crafty.audio.play("gameplay",-1,t.volume):void 0}),this.bind("Siorb:victory",function(){return this.mode="victory",setTimeout(function(){return Crafty.trigger("Siorb:victoryEnd")},83e3),this.unbind("Guarana:ended",this.playGuaranaEndEffect),this.unbind("Mushroom:ended",this.playMushroomEndEffect),Crafty.audio.stop(),Crafty.audio.play("victoryBeat",1,t.volume)}),this.bind("Siorb:victoryEnd",function(){return this.mode="normal",this.bind("Guarana:ended",this.playGuaranaEndEffect),this.bind("Mushroom:ended",this.playMushroomEndEffect),Crafty.audio.stop("victoryBeat"),Crafty.audio.play("gameplay",-1,t.volume)})}}),Crafty.c("BackgroundManager",{xScrollFrame:0,yScrollFrame:0,backgroundX:0,xScrollingSpeed:2,yScrollProportion:3,init:function(){return t.window.style.backgroundPosition="0px -1000px",this.bind("EnterFrame",this.scrollBackgroundX),this.bind("Runner:jump",this.centerOnRunner)},scrollBackgroundX:function(){var e,r;return this.xScrollFrame+=1,1e3===this.xScrollFrame&&(this.xScrollFrame=0),this.xScrollFrame%2?(r=t.window.style.backgroundPosition,e=parseInt(r.split(" ")[1]),t.window.style.backgroundPosition=this.backgroundX.toString()+"px "+e.toString()+"px",this.backgroundX===2*t.width?this.backgroundX=0:this.backgroundX-=this.xScrollingSpeed):void 0},centerOnRunner:function(e){return t.view.y-=e.y+t.view.y-t.height/2+75,t.view.x-=e.x+t.view.x-50,this.yScrollFrame+=1,1e3===this.yScrollFrame&&(this.yScrollFrame=0),this.yScrollFrame%this.yScrollProportion===0?this.scrollBackgroundY(e):void 0},scrollBackgroundY:function(e){var r,i,a;return r=t.window.style.backgroundPosition.split(" ")[1].split(""),r=r.slice(0,r.length-2),a=e.up?e.gy-e.jumpSpeed:e.gy,i=(Number(r.join(""))-a/this.yScrollProportion).toString(),t.window.style.backgroundPosition=this.backgroundX.toString()+"px "+i.toString()+"px"}}),Crafty.c("BlackMaskManager",{fadeInMask:function(){return Crafty.e("BlackMask").isInvisible().show()},fadeOutMask:function(){return Crafty.e("BlackMask").isVisible().hide()},init:function(){return this.requires("Persist"),this.bind("SceneChange",function(t){return null===t.oldScene&&"MainMenu"===t.newScene?this.fadeOutMask():"GameOver"===t.oldScene&&"MainMenu"===t.newScene?this.fadeOutMask():void 0}),this.bind("Game:gameOverStarted",function(){return this.fadeOutMask()}),this.bind("Game:gameplayStarted",function(){return this.fadeOutMask()})}}),Crafty.c("GameObserver",{absoluteScore:0,init:function(){return this.requires("Recyclable"),this.bind("Runner:collectedGuarana",this.speedUpGuarana),this.bind("Runner:collectedLeaf",this.scorePoint),this.bind("Runner:collectedMrHot",function(){return this.losePoints("hot")}),this.bind("Runner:collectedMrsCoffee",function(){return this.losePoints("coffee")}),this.bind("Runner:collectedMushroom",this.scorePoint),this.bind("Runner:collectedMrsCoffee",this.speedUpCoffee),this.bind("Coffee:speedUpEnded",this.slowDownPlatforms),this.bind("Siorb:victory",this.handleVictory),this.bind("Siorb:victoryEnd",this.handleVictoryEnd),this.bind("Siorb:MediumProbabilities",this.switchProbabilities)},setDefaultSpeedTo:function(e){return t.floatSpeed<e&&(t.floatSpeed=e),t.defaultFloatSpeed=e},speedUpGuarana:function(){return this.speedUpPlatforms("guarana")},speedUpCoffee:function(){return this.speedUpPlatforms("coffee")},speedUpPlatforms:function(e){return t.floatSpeed<=t.defaultFloatSpeed&&(t.floatSpeed+=t.speedUpValue),t.timeouts.slowDown1&&clearTimeout(t.timeouts.slowDown1),t.timeouts.slowDown2&&clearTimeout(t.timeouts.slowDown2),t.timeouts.slowDown1=setTimeout(function(){return t.floatSpeed=t.defaultFloatSpeed+1},t.speedUpDuration-1e3),t.timeouts.slowDown2=setTimeout(function(){return t.floatSpeed=t.defaultFloatSpeed,Crafty.trigger("guarana"===e?"Guarana:ended":"Coffee:speedUpEnded")},t.speedUpDuration)},slowDownPlatforms:function(){return t.floatSpeed===t.defaultFloatSpeed&&(t.floatSpeed-=1),t.timeouts.slowDown1&&clearTimeout(t.timeouts.slowDown1),t.timeouts.slowDown2&&clearTimeout(t.timeouts.slowDown2),t.timeouts.slowDown2=setTimeout(function(){return t.floatSpeed=t.defaultFloatSpeed,Crafty.trigger("Coffee:slowDownEnded")},t.speedUpDuration/2)},scorePoint:function(e){return t.score+=e.points,this.absoluteScore+=e.points,this.setDifficulty(),Crafty.trigger("ScoreBoard:updatePoints"),this.absoluteScore%11===0&&Crafty.trigger("Runner:saysSomething"),t.score%20===0&&Crafty.trigger("Runner:saysNice"),t.score>=t.victoryScore&&t.victory===!1&&Crafty.trigger("Siorb:victory"),t.score===t.probabilitiesScore?Crafty.trigger("Siorb:MediumProbabilities"):void 0},losePoints:function(e){var r;return r="hot"===e?t.hotPenalty:t.coffeePenalty,t.score>=r?t.score-=r:t.score=0,this.setDifficulty(),Crafty.trigger("ScoreBoard:updatePoints")},setDifficulty:function(){return t.score<t.mediumScore?t.platformSizes.current=t.platformSizes.easy:t.score<t.hardScore&&"easy"===t.mode?(t.mode="medium",this.setDefaultSpeedTo(t.mediumFloatSpeed),t.platformSizes.current=t.platformSizes.medium):"medium"===t.mode&&t.score>=t.hardScore?(t.mode="hard",t.platformSizes.current=t.platformSizes.hard):void 0},handleVictory:function(){return t.victory=!0,t.leafProbability=t.victoryLeafProbability,t.guaranaProbability=t.victoryGuaranaProbability,t.mushroomProbability=t.victoryMushroomProbability,t.mrHotProbability=t.victoryMrHotProbability,t.mrsCoffeeProbability=t.victoryMrsCoffeeProbability,this.setDefaultSpeedTo(t.victoryFloatSpeed),t.runner.attach(Crafty.e("DiscoText"))},handleVictoryEnd:function(){return t.leafProbability=t.mediumLeafProbability,t.guaranaProbability=t.mediumGuaranaProbability,t.mrsCoffeeProbability=t.mediumMrsCoffeeProbability,t.mrHotProbability=t.mediumMrHotProbability,t.mushroomProbability=t.mediumMushroomProbability,this.setDefaultSpeedTo(t.extremeFloatSpeed)},switchProbabilities:function(){return t.leafProbability=t.mediumLeafProbability,t.guaranaProbability=t.mediumGuaranaProbability,t.mrsCoffeeProbability=t.mediumMrsCoffeeProbability,t.mrHotProbability=t.mediumMrHotProbability,t.mushroomProbability=t.mediumMushroomProbability}}),Crafty.c("Recyclable",{init:function(){return this}}),Crafty.c("ComicCloud",{isVisible:!1,delay:3e3,init:function(){return this.requires("Base, spr_cloud"),this.attr({z:310}),this.move("e",100),this.move("s",100),$(this._element).hide(),this.bind("Runner:saysSomething",this.showCloud)},showCloud:function(){return this.isVisible?void 0:(this.isVisible=!0,$(this._element).stop().fadeIn("fast").delay(this.delay).fadeOut("fast"),setTimeout(function(t){return function(){return t.isVisible=!1}}(this),this.delay))}}),Crafty.c("ComicSayings",{firstTime:!0,isVisible:!1,delay:3e3,phrasesCount:13,init:function(){return this.requires("Base, spr_sayings"),this.attr({z:310}),this.move("e",105),this.move("s",119),$(this._element).hide(),this.bind("Runner:saysSomething",this.showSaying)},showSaying:function(){var t;return t=this.firstTime?(this.firstTime=!1,0):Utils.rand(0,this.phrasesCount),this.sprite(0,t),this.isVisible?void 0:(this.isVisible=!0,$(this._element).stop().fadeIn("fast").delay(this.delay).fadeOut("fast"),setTimeout(function(t){return function(){return t.isVisible=!1}}(this),this.delay))}}),Crafty.c("DiscoText",{delay:2e3,init:function(){return this.requires("Base, SpriteAnimation, spr_disco_text"),this.attr({x:210,y:t.runner.y+50,z:310}),this.reel("DiscoText:Blinks",500,[[0,0],[0,1]]),this.animate("DiscoText:Blinks",-1),setTimeout(function(t){return function(){return t.destroy()}}(this),1e4)}}),Crafty.c("Guarana",{name:"guarana",init:function(){return this.requires("Collectable, spr_guarana")}}),Crafty.c("Leaf",{name:"leaf",init:function(){return this.requires("Collectable, spr_leaf")}}),Crafty.c("ManaMeter",{init:function(){return this.requires("Base, spr_mana"),this.attr({x:700,y:100,w:75,h:75,z:300,alpha:.6}),this.bind("ScoreBoard:updatePoints",this.updateYerbaLevel)},updateYerbaLevel:function(){var e;return e=t.score<100?parseInt(t.score/10):10,this.sprite(0,e)}}),Crafty.c("MrHot",{name:"mrHot",init:function(){return this.requires("Collectable"),this.attr({w:50,h:50,z:304}),this.attach(Crafty.e("MrHotImage"))}}),Crafty.c("MrHotImage",{init:function(){return this.requires("Base, spr_mr_hot"),this.attr({z:301}),this.move("w",20),this.move("n",80)}}),Crafty.c("MrsCoffee",{name:"mrsCoffee",init:function(){return this.requires("Collectable"),this.attr({w:50,h:50}),this.attach(Crafty.e("MrsCoffeeImage"))}}),Crafty.c("MrsCoffeeImage",{init:function(){return this.requires("Base, spr_mrs_coffee"),this.attr({z:301}),this.move("w",30),this.move("n",60)}}),Crafty.c("Mushroom",{name:"mushroom",init:function(){return this.requires("Collectable, spr_mushroom")}}),Crafty.c("PixelPoint",{init:function(){return this.requires("Base, spr_digits"),this.attr({w:12,h:16,z:301})},print:function(t){return this.sprite(0,t),this}}),Crafty.c("PixelScoreBoard",{init:function(){return this.requires("Base"),this.attr({w:200,h:50,z:301}),this},printScore:function(e){var r;return r="current"===e?t.score:"top"===e?localStorage.getItem("highScore"):0,_.each(r.toString().split(""),function(e){return function(r,i){var a;return r=parseInt(r),a=Crafty.e("PixelPoint").print(r).at(e.x+12*i,e.y),"GameOver"===t.scene?a.attr({alpha:.5}):void 0}}(this))},displayAt:function(t,e,r){return this.at(t,e),this.printScore(r)}}),Crafty.c("Platform",{sizesSize:null,init:function(){return this.requires("Base, Solid, Floatable"),this.sizesSize=t.platformSizes.current.length,this.attr({h:15,w:t.platformSizes.current[Utils.rand(0,this.sizesSize)],z:200}),this.bind("EnterFrame",this.resetPosition)},resetPosition:function(){var e,r,i,a,n;return this.x<-250&&(e=[-168,-84],r=[84,168],i=[-84,84],n=this.y>1300?e[Utils.rand(0,2)]:this.y<1e3?r[Utils.rand(0,2)]:i[Utils.rand(0,2)],this.attr({w:t.platformSizes.current[Utils.rand(0,this.sizesSize)]}),a=Utils.rand(this.width+200,this.width+400),this.at(t.width,this.y+n),Math.random()>.55)?this.generateCollectable(this.x+30,this.y-50):void 0},generateCollectable:function(e,r){var i,a;return i=Math.random(),a=Utils.rand(20,30),i<t.leafProbability?Crafty.e("Leaf").at(e+a,r):i<t.guaranaProbability?Crafty.e("Guarana").at(e+a,r+20):i<t.mrsCoffeeProbability?Crafty.e("MrsCoffee").at(e+a,r):i<t.mrHotProbability?Crafty.e("MrHot").at(e+a,r):Crafty.e("Mushroom").at(e+a,r+6)}}),Crafty.c("PsychoVision",{isAnimating:!1,duration:t.mushroomDuration,init:function(){return this.requires("Base, spr_psycho"),this.bind("Runner:psychoVision",this.showVision),this.attr({x:0,y:76,z:200,alpha:0}),$(this._element).css("display","none")},showVision:function(){return this.isAnimating?void 0:($(this._element).css("opacity","0.01").css("display","block").fadeTo(this.duration/12,.2).fadeTo(this.duration/12,.1).fadeTo(this.duration/12,.2).fadeTo(this.duration/12,.1).fadeTo(this.duration/12,.2).fadeTo(this.duration/12,.1).fadeTo(this.duration/12,.2).fadeTo(this.duration/12,.1).fadeTo(this.duration/12,.2).fadeTo(this.duration/12,.1).fadeTo(this.duration/12,.2).fadeTo(this.duration/12,0),setTimeout(function(t){return function(){return $(t._element).css("display","none")}}(this),t.mushroomDuration),this.isAnimating=!0,Crafty.trigger("Face:crazy"),setTimeout(function(t){return function(){return t.isAnimating=!1,Crafty.trigger("Face:stopCrazy"),Crafty.trigger("Mushroom:ended")}}(this),this.duration))}}),Crafty.c("Runner",{speedValue:0,jumpValue:10,backgroundX:0,gravityValue:.6,scaredFaceVelocity:40,init:function(){var e;return this.requires("Base, Twoway, Gravity"),this.attr({x:50,y:t.height/2,w:50,h:10,z:300}),this.attach(Crafty.e("RunnerBlush")),this.attach(Crafty.e("RunnerImage")),this.attach(Crafty.e("RunnerFace")),this.attach(Crafty.e("PsychoVision")),this.attach(Crafty.e("ComicCloud")),this.attach(Crafty.e("ComicSayings")),t.sharedOnFB&&this.attach(Crafty.e("RunnerGlasses")),e=parseInt(localStorage.getItem("highScore")),10>e&&this.attach(Crafty.e("ControlsHint")),this.twoway(this.speedValue,this.jumpValue),this.gravity("Solid"),this.gravityConst(this.gravityValue),this.bind("Move",this.runnerDidMove),this.multijumps(2,this.jumpValue/2,!0),this.bind("Collected",this.handleCollected),this.bind("Guarana:ended",function(){return this.gravityConst(this.gravityValue)}),this.bind("Runner:collectedMrsCoffee",function(){return this.gravityConst(this.gravityValue)})},runnerDidMove:function(){return 0!==this._gy?(this._gy>this.scaredFaceVelocity&&Crafty.trigger("Face:falling"),this._gy>20&&Crafty.trigger("Runner:falling"),Crafty.trigger("Runner:jump",{gy:this._gy,up:this._up,jumpSpeed:this._jumpSpeed,x:this.x,y:this.y})):void 0},at:function(t,e){return this.attr({x:t,y:e})},handleCollected:function(t){return"guarana"===t.name?(Crafty.trigger("Runner:collectedGuarana"),this.gravityConst(this.gravityValue-.2)):"leaf"===t.name?Crafty.trigger("Runner:collectedLeaf",{points:1}):"mushroom"===t.name?(Crafty.trigger("Runner:collectedMushroom",{points:1}),Crafty.trigger("Runner:psychoVision")):"mrsCoffee"===t.name?Crafty.trigger("Runner:collectedMrsCoffee"):"mrHot"===t.name?Crafty.trigger("Runner:collectedMrHot"):void 0}}),Crafty.c("RunnerBigGlasses",{init:function(){return this.requires("Base, spr_big_glasses"),this.attr({z:310})}}),Crafty.c("RunnerBlush",{init:function(){return this.requires("Base, spr_blush"),this.attr({z:310}),this.move("e",25),this.move("s",148),this.bind("Runner:collectedMrHot",this.showBlush),$(this._element).hide()},showBlush:function(){return $(this._element).stop().fadeIn("slow").delay(3e3).fadeOut("slow")}}),Crafty.c("RunnerFace",{mode:"normal",init:function(){return this.requires("Base, SpriteAnimation, spr_face"),this.attr({z:299}),this.move("e",23),this.move("s",148),this.bind("Face:fasterGuarana",this.faceFasterGuarana),this.bind("Face:fasterCoffee",this.faceFasterCoffee),this.bind("Face:slowerCoffee",this.faceSlowerCoffee),this.bind("Face:normal",this.faceNormal),this.bind("Face:crazy",this.faceCrazy),this.bind("Face:stopCrazy",this.faceStopCrazy),this.bind("Face:falling",this.faceFalling),this.bind("Siorb:victory",this.handleVictoryFace)},faceNormal:function(){return this.sprite(0,0)},faceFasterGuarana:function(){return this.sprite(0,3)},faceFasterCoffee:function(){return this.sprite(0,5)},faceSlowerCoffee:function(){return this.sprite(0,4)},faceFalling:function(){return this.sprite(0,2)},faceCrazy:function(){return this.unbind("Face:normal",this.faceNormal),this.unbind("Face:fasterGuarana",this.faceFasterGuarana),this.unbind("Face:fasterCoffee",this.faceFasterCoffee),this.unbind("Face:slowerCoffee",this.faceSlowerCoffee),"victory"!==this.mode?(this.mode="crazy",this.sprite(0,1)):void 0},faceStopCrazy:function(){return this.bind("Face:normal",this.faceNormal),this.bind("Face:fasterGuarana",this.faceFasterGuarana),this.bind("Face:fasterCoffee",this.faceFasterCoffee),this.bind("Face:slowerCoffee",this.faceSlowerCoffee),this.mode="normal",this.sprite(0,0)},handleVictoryFace:function(){return this.unbind("Face:normal",this.faceNormal),this.unbind("Face:fasterGuarana",this.faceFasterGuarana),this.unbind("Face:fasterCoffee",this.faceFasterCoffee),this.unbind("Face:slowerCoffee",this.faceSlowerCoffee),this.unbind("Face:crazy",this.faceCrazy),this.unbind("Face:stopCrazy",this.faceStopCrazy),this.mode="victory",this.sprite(0,3)}}),Crafty.c("RunnerGlasses",{init:function(){return this.requires("Base, spr_glasses"),this.attr({z:310}),this.move("e",23),this.move("s",147)}}),Crafty.c("RunnerImage",{mode:"normal",init:function(){return this.requires("Base, SpriteAnimation, spr_runner"),this.attr({z:299}),this.move("e",25),this.move("s",148),this.reel("Runner:Runs",300,0,0,3),this.reel("Runner:RunsSlower",500,0,0,3),this.reel("Runner:RunsFaster",150,0,0,3),this.animate("Runner:Runs",-1),this.bind("hitGround",this.groundHitPose),this.bind("Runner:collectedGuarana",this.runFasterGuarana),this.bind("Runner:collectedMrsCoffee",this.runFasterCoffee),this.bind("Coffee:speedUpEnded",this.runSlowerCoffee)},groundHitPose:function(){return this.resumeAnimation(),this.bind("Runner:falling",this.fallingPose),"normal"===this.mode?(this.bind("Runner:jump",this.jumpPose),Crafty.trigger("Face:normal"),this.animate("Runner:Runs",-1)):void 0},fallingPose:function(){return this.unbind("Runner:falling"),this.animate("Runner:RunsFaster",-1)},jumpPose:function(){return"normal"===this.mode?(this.pauseAnimation(),this.sprite(0,1),this.unbind("Runner:jump")):void 0},runFasterGuarana:function(){return this.mode="guarana",Crafty.trigger("Face:fasterGuarana"),this.runFasterAnimation()},runFasterCoffee:function(){return this.mode="coffee",Crafty.trigger("Face:fasterCoffee"),this.runFasterAnimation()},runSlowerCoffee:function(){return Crafty.trigger("Face:slowerCoffee"),this.animate("Runner:RunsSlower",-1),t.timeouts.speedAnimation&&clearTimeout(t.timeouts.speedAnimation),t.timeouts.speedAnimation=setTimeout(function(t){return function(){return t.mode="normal",Crafty.trigger("Face:normal"),t.animate("Runner:Runs",-1)}}(this),t.speedUpDuration/2)},runFasterAnimation:function(){return this.animate("Runner:RunsFaster",-1),t.timeouts.speedAnimation&&clearTimeout(t.timeouts.speedAnimation),t.timeouts.speedAnimation=setTimeout(function(t){return function(){return"guarana"===t.mode?(t.mode="normal",Crafty.trigger("Face:normal"),t.animate("Runner:Runs",-1)):void 0}}(this),t.speedUpDuration)}}),Crafty.c("RunnerKiller",{deathGrenzenY:1800,deathHappened:!1,init:function(){return this.requires("Base, Collision"),this.attr({x:0,y:this.deathGrenzenY,h:200,w:t.width}),this.onHit("RunnerImage",function(){return this.deathHappened?void 0:(this.deathHappened=!0,Crafty("ScoreBoard").destroy(),Crafty("ManaMeter").destroy(),Crafty("PsychoVision").destroy(),Crafty("DiscoText").destroy(),setTimeout(function(){return Crafty("BackgroundManager").destroy()},1e3),setTimeout(function(){return t.timeouts.speedAnimation&&clearTimeout(t.timeouts.speedAnimation),t.timeouts.slowDown1&&clearTimeout(t.timeouts.slowDown1),t.timeouts.slowDown2&&clearTimeout(t.timeouts.slowDown2),t.floatSpeed=t.defaultFloatSpeed,t.runScene.gameOver()},2500))})}}),Crafty.c("ScoreBoard",{init:function(){return this.requires("2D, DOM, Text"),this.attr({x:730,y:135,w:400,z:301}),this.textFont({type:"italic",size:"20px",family:"Arial"}),this.text(""+t.score),this.bind("ScoreBoard:updatePoints",this.updateScoreBoard)},updateScoreBoard:function(){return this.text(""+t.score)}}),Crafty.c("FBLikeButton",{init:function(){var t;return this.requires("Base"),this.attr({x:10,y:10,w:50,h:50}),t="<div class='fb-like' data-href='https://www.facebook.com/dobrezielepl' data-layout='standard' data-action='like' data-show-faces='false' data-share='false'></div>",function(t,e,r){var i,a=t.getElementsByTagName(e)[0];t.getElementById(r)||(i=t.createElement(e),i.id=r,i.src="//connect.facebook.net/pl_PL/all.js#xfbml=1",a.parentNode.insertBefore(i,a))}(document,"script","facebook-jssdk"),$(this._element).append(t)}}),Crafty.c("BlackMask",{init:function(){return this.requires("Base"),this.color("black"),this.attr({x:0,y:Crafty.viewport.y,w:t.width+200,h:t.height+200,z:358}),setTimeout(function(t){return function(){return t.destroy()}}(this),2e3)},isVisible:function(){return this.attr({alpha:1}),this
},isInvisible:function(){return this.attr({alpha:0}),this},show:function(){return setTimeout(function(t){return function(){return $(t._element).fadeIn("slow")}}(this),300)},hide:function(){return setTimeout(function(t){return function(){return $(t._element).fadeOut("slow")}}(this),300)}}),Crafty.c("Button",{init:function(){return this.requires("Base, Text"),$(this._element).fadeTo(100,.7),$(this._element).hover(function(t){return function(){return $(t._element).stop().fadeTo(200,1)}}(this),function(t){return function(){return $(t._element).stop().fadeTo(200,.7)}}(this))}}),Crafty.c("ButtonWithLink",{init:function(){return this.requires("2D, DOM")},addLink:function(t,e,r){var i,a;return i="<a href="+t+" target='_blank'><img src='assets/images/"+e+"' title='"+r+"'</img></a>",$(this._element).append(i),a=$(this._element).children()[0],$(a).stop().fadeTo(0,.9),$(a).hover(function(){return $(a).stop().fadeTo(200,1)},function(){return $(a).stop().fadeTo(200,.9)}),this},at:function(t,e){return this.attr({x:t,y:e}),this}}),Crafty.c("ControlsHint",{displayTime:4,init:function(){return this.requires("Base, spr_hints"),this.attr({alpha:.7,z:312}),this.move("e",250),this.move("s",400),setTimeout(function(t){return function(){return $(t._element).fadeOut("slow"),setTimeout(function(){return t.destroy()},2e3)}}(this),1e3*this.displayTime)}}),Crafty.c("GameOverAd",{init:function(){var t,e;return this.requires("ButtonWithLink"),this.attr({x:400,y:210}),Math.random()<.3?(t=Math.random()<.5?1:2,e="gameOverAd"+t+".png",this.addLink("http://www.dobreziele.pl",e,"Dobre Ziele")):void 0}}),Crafty.c("GameOverShortcuts",{enterCode:13,shiftCode:16,escCode:27,init:function(){return this.requires("Recyclable, Keyboard"),this.bind("KeyDown",function(e){return e.keyCode===this.enterCode||e.keyCode===this.shiftCode?t.victory?window.location.reload():t.runScene.gameplay():e.keyCode===this.escCode?window.location.reload():void 0})}}),Crafty.c("GameplayShortcuts",{spaceCode:32,init:function(){return this.requires("Recyclable, Keyboard, Mouse"),this.bind("KeyDown",function(t){return t.keyCode===this.spaceCode&&this.makeRunnerJump(),!0}),$("#game").on("click",function(t){return function(){return Crafty.trigger("Runner:jumpEffect"),t.makeRunnerJump()}}(this))},makeRunnerJump:function(){var t;return t={key:38},Crafty.trigger("KeyDown",t)}}),Crafty.c("InstructionField",{init:function(){var t,e,r;return this.requires("Base"),this.attr({x:330,y:130}),t="<div class='jcarousel'> <ul> <li><img src='assets/images/instruction1.png' width='431' height='287' alt=''></li> <li><img src='assets/images/instruction2.png' width='431' height='287' alt=''></li> <li><img src='assets/images/instruction3.png' width='431' height='287' alt=''></li> </ul> </div>",r=370,e=500,Crafty.e("Button, arrow_l_button, jcarousel-prev").at(e,r),Crafty.e("Button, arrow_r_button, jcarousel-next").at(e+60,r),$(this._element).append(t),$(".jcarousel").jcarousel({animation:{duration:400}}),$(".jcarousel-prev").on("jcarouselcontrol:active",function(){return $(this).removeClass("inactive")}).on("jcarouselcontrol:inactive",function(){return $(this).addClass("inactive")}).jcarouselControl({target:"-=1"}),$(".jcarousel-next").on("jcarouselcontrol:active",function(){return $(this).removeClass("inactive")}).on("jcarouselcontrol:inactive",function(){return $(this).addClass("inactive")}).jcarouselControl({target:"+=1"})}}),Crafty.c("LogoButton",{init:function(){return this.requires("ButtonWithLink"),this.attr({x:160,y:330}),this.addLink("http://www.dobreziele.pl","zieleLogo.png","Dobre Ziele")}}),Crafty.c("ReturnButton",{clicked:!1,init:function(){return this.requires("Button, powrot_button"),this.at(750,365),$(this._element).on("click",function(e){return function(){return e.clicked?void 0:(e.clicked=!0,t.runScene.mainMenu())}}(this))}}),Crafty.c("SoundButton",{init:function(){return this.requires("Button, sound_button"),this.at(t.width-45,10),this.chooseSprite(),$(this._element).on("click",function(t){return function(){return Crafty.audio.toggleMute(),t.chooseSprite(),"false"===localStorage.getItem("muted")?localStorage.setItem("muted",!0):localStorage.setItem("muted",!1)}}(this))},chooseSprite:function(){var t;return t=Crafty.audio.muted?0:1,this.sprite(t,0)}}),Crafty.scene("Authors",function(){var e,r,i;return t.scene="Authors",Crafty.e("SoundButton"),Crafty.background("url('"+t.host+"/images/mainMenuBg.png')"),Crafty.e("LogoButton"),Crafty.e("ReturnButton"),r=120,i=60,e=330,Crafty.e("Base, aut_boss_text").at(e,r),Crafty.e("ButtonWithLink").addLink("http://www.dobreziele.pl","autBossLogo.png","Dobre Ziele").at(e+140,r-20),Crafty.e("Base, aut_pablo_text").at(e,r+i),Crafty.e("ButtonWithLink").addLink("http://www.github.com/pawurb","autPabloLogo.png","GitHub").at(e+210,r+40),Crafty.e("Base, aut_cebula_text").at(e,r+2*i),Crafty.e("ButtonWithLink").addLink("http://cebulaa.daportfolio.com/","autCebulaLogo.png","Portfolio").at(e+150,r+75),Crafty.e("Base, aut_music_text").at(e,r+3*i),Crafty.e("ButtonWithLink").addLink("http://soundcloud.com/","autHarryLogo.png","SoundCloud").at(e+200,r+160),$("#sharingModal-btn").hide()},function(){return Crafty("Recyclable").destroy()}),Crafty.scene("GameOver",function(){var e,r,i,a,n;return t.scene="GameOver",Crafty.background("url('"+t.host+"/images/gameOverBg.png')"),Crafty.viewport.y=0,Crafty.trigger("Game:gameOverStarted"),Crafty.e("GameOverShortcuts"),t.score>parseInt(localStorage.getItem("highScore"))&&localStorage.setItem("highScore",t.score),a=parseInt(((new Date).getTime()-t.gameplayStarted)/1e3),t.submitStatistic(t.score,a),t.submitScore(t.score),i=24,Crafty.e("PixelScoreBoard").displayAt(i+205,t.height-3*i,"current"),Crafty.e("Base, gOpunkty_button").at(i,t.height-3*i),Crafty.e("Base, gOrekord_button").at(i,t.height-2*i),Crafty.e("PixelScoreBoard").displayAt(i+144,t.height-2*i,"top"),e=215,n=Crafty.e("Button, jeszcze_button"),n.at(t.width-i-e,t.height-3*i),$(n._element).on("click",function(){return t.victory?window.location.reload():t.runScene.gameplay()}),r=Crafty.e("Button, menu_button"),r.at(t.width-i-e+37,t.height-2*i),$(r._element).on("click",function(){return window.location.reload()}),Crafty.e("GameOverAd")},function(){return Crafty("Recyclable").destroy()}),Crafty.scene("Gameplay",function(){var e,r,i;return e=function(){var e,r,i,a,n,o,s,u;for(t.platformSizes.current=t.platformSizes.easy,i=[[1,0,1,2,0,0,3,4,1,2,3],[5,1,0,2,0,5,3,0,3,5,4],[0,1,2,4,0,5,0,2,3,0,1],[0,2,1,2,0,4,1,3,2,5,4]],a=i[Utils.rand(0,i.length)],u=[],e=s=0;10>=s;e=++s)r=a[e],o=200+(t.height-t.height/5*r-20),n=t.width/5*e,u.push(Crafty.e("Platform").at(n,o));return u},r=function(){return t.victory=!1,t.mode="easy",t.floatSpeed=t.initialFloatSpeed,t.defaultFloatSpeed=t.initialFloatSpeed,t.leafProbability=t.easyLeafProbability,t.guaranaProbability=t.easyGuaranaProbability,t.mrsCoffeeProbability=t.easyMrsCoffeeProbability,t.mrHotProbability=t.easyMrHotProbability,t.mushroomProbability=t.easyMushroomProbability},r(),Crafty.trigger("Game:gameplayStarted"),$("#sharingModal-btn").remove(),t.gameplayStarted=(new Date).getTime(),t.scene="Gameplay",t.score=0,Crafty.background(""),t.window=document.getElementById("game"),$("#game").focus(),t.window.style.backgroundPositionY="0px",t.runner=Crafty.e("Runner"),t.view=Crafty.viewport,e(),Crafty.e("BackgroundManager"),i=Crafty.e("GameplayShortcuts"),t.runner.attach(Crafty.e("ScoreBoard")),t.runner.attach(Crafty.e("ManaMeter")),Crafty.e("GameObserver"),Crafty.e("RunnerKiller"),Crafty.pause(),setTimeout(function(){return Crafty.pause(),Crafty.trigger("Runner:saysSomething")},1e3)},function(){return $("#game").unbind("click"),Crafty("Recyclable").destroy()}),Crafty.scene("Instruction",function(){return t.scene="Instruction",Crafty.e("SoundButton"),Crafty.background("url('"+t.host+"/images/mainMenuBg.png')"),Crafty.e("InstructionField"),Crafty.e("LogoButton"),Crafty.e("ReturnButton"),$("#sharingModal-btn").hide()},function(){return Crafty("Recyclable").destroy()}),Crafty.scene("MainMenu",function(){var e,r,i,a,n;return t.scene="MainMenu",t.firstMainMenu=!1,Crafty.viewport.y=0,i=200,r=60,n=Crafty.e("Button, start_button").at(485,i),a=Crafty.e("Button, instrukcja_button").at(492,i+r),e=Crafty.e("Button, tworcy_button").at(526,i+2*r),Crafty.e("Base, rekord_button").at(t.width-210,t.height-30),Crafty.e("Base, leaves_image").at(429,90),Crafty.e("RunnerImage").at(544,90),Crafty.e("RunnerFace").at(544,90),t.sharedOnFB&&(Crafty.e("RunnerGlasses").at(544,90),Crafty.e("RunnerBigGlasses").at(105,220)),Crafty.background("url('"+t.host+"/images/mainMenuBg.png')"),Crafty.e("PixelScoreBoard").displayAt(740,390,"top"),Crafty.e("SoundButton"),Crafty.e("LogoButton"),t.firstMainMenu||Crafty.e("FBLikeButton"),$("#sharingModal-btn").show(),jQuery(function(){var r,i,o;return o=!1,$(n._element).on("click",function(){return o?void 0:(n.sprite(0,1),o=!0,t.runScene.gameplay())}),i=!1,$(a._element).on("click",function(){return i?void 0:(i=!0,t.runScene.instruction())}),r=!1,$(e._element).on("click",function(){return r?void 0:(r=!0,t.runScene.authors())})})},function(){return Crafty("Recyclable").destroy()}),window.Utils={rand:function(t,e){var r;return null==e&&(e=t,t=0),r=e-t,Math.floor(Math.random()*r+t)}}}).call(this);